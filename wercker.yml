box: golang:latest

build:
  steps:
    #- add-to-known_hosts:
    #    hostname: github.com
        # fingerprint: 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48
    #    type: rsa
    #- script:
    #    name: initialize and update git submodules
    #    code: |
    #        git submodule init
    #        git submodule update --remote --recursive
    - arjen/hugo-build:
    #    version: "HEAD"
        theme: academic

deploy:
  steps:
    - install-packages:
            packages: git
    - leipert/git-push:
            gh_oauth: $GIT_TOKEN
            repo: pat-s/pat-s.github.io
            branch: master
            basedir: public
